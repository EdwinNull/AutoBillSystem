# 汽修店记账软件

一款专为小型汽修店（主修火车、挂车）设计的记账管理软件，用于记录进货、维修账单、配件消耗等业务数据。

## 功能特点

### 核心功能
- **配件库存管理**: 配件信息管理、库存实时更新、库存预警
- **进货管理**: 进货单录入、成本计算、供应商管理
- **维修账单管理**: 维修订单创建、客户管理、配件消耗记录
- **查询统计**: 多维度查询、财务统计分析

### 辅助功能
- **报表生成**: 收入统计、配件使用统计、客户分析
- **数据备份**: 定期备份、数据导入导出
- **用户界面**: 简洁友好的图形界面

## 技术架构

- **编程语言**: Python 3.8+
- **数据库**: SQLite（轻量级，适合小型店铺）
- **GUI框架**: Tkinter（Python内置）
- **数据处理**: Pandas（可选）
- **报表生成**: ReportLab（可选）

## 项目结构

```
auto_repair_system/
├── main.py                 # 主程序入口
├── config/
│   ├── __init__.py
│   └── settings.py         # 配置文件
├── models/
│   ├── __init__.py
│   ├── database.py         # 数据库连接
│   ├── parts.py           # 配件模型
│   ├── customers.py       # 客户模型
│   └── orders.py          # 订单模型
├── services/
│   ├── __init__.py
│   ├── inventory_service.py # 库存服务
│   ├── order_service.py    # 订单服务
│   └── report_service.py   # 报表服务
├── gui/
│   ├── __init__.py
│   └── main_window.py      # 主窗口
├── utils/
│   ├── __init__.py
│   ├── database_utils.py   # 数据库工具
│   └── export_utils.py     # 导出工具
├── data/
│   └── auto_repair.db      # SQLite数据库文件（运行时生成）
├── reports/                # 报表输出目录（运行时生成）
├── backups/                # 备份目录（运行时生成）
├── requirements.txt        # 依赖包列表
└── README.md              # 项目说明
```

## 安装和运行

### 环境要求
- Python 3.8 或更高版本
- Windows/Linux/macOS 操作系统

### 安装步骤

1. **克隆或下载项目**
   ```bash
   # 如果使用git
   git clone <repository-url>
   cd AutoBillSystem
   
   # 或直接下载并解压到目标目录
   ```

2. **安装依赖（可选）**
   ```bash
   pip install -r requirements.txt
   ```
   
   注意：项目主要使用Python标准库，大部分功能无需额外依赖。

3. **运行程序**
   ```bash
   python main.py
   ```

### 首次运行

程序首次运行时会自动：
- 创建必要的目录结构
- 初始化SQLite数据库
- 创建所有必要的数据表

## 使用说明

### 主要操作流程

1. **配件管理**
   - 添加配件基础信息
   - 设置库存预警值
   - 管理配件分类

2. **进货管理**
   - 创建进货订单
   - 录入进货明细
   - 自动更新库存

3. **客户管理**
   - 添加客户信息
   - 记录车辆信息
   - 维护联系方式

4. **维修订单**
   - 创建维修订单
   - 记录故障和维修内容
   - 添加配件使用记录
   - 计算费用

5. **查询统计**
   - 按客户查询历史记录
   - 按时间范围统计收入
   - 分析配件使用情况

### 数据备份

建议定期备份数据：
- 使用菜单「文件 → 数据备份」
- 备份文件保存在 `backups/` 目录
- 可通过「文件 → 数据恢复」恢复数据

## 数据库设计

### 主要数据表

- **parts**: 配件信息表
- **customers**: 客户信息表
- **purchase_orders**: 进货订单表
- **purchase_details**: 进货明细表
- **repair_orders**: 维修订单表
- **repair_parts_usage**: 配件使用记录表

### 关键字段说明

详细的数据库设计请参考需求文档中的数据库设计章节。

## 开发说明

### 代码结构

- **models/**: 数据模型层，负责数据库操作
- **services/**: 业务逻辑层，处理业务规则
- **gui/**: 用户界面层，提供图形界面
- **utils/**: 工具模块，提供通用功能

### 扩展开发

如需添加新功能：
1. 在相应的模型类中添加数据操作方法
2. 在服务类中实现业务逻辑
3. 在GUI中添加用户界面
4. 更新配置文件（如需要）

## 注意事项

1. **数据安全**
   - 定期备份数据库文件
   - 避免直接修改数据库文件
   - 重要操作前建议先备份

2. **性能考虑**
   - 适用于中小型汽修店（建议数据量不超过10万条记录）
   - 大量数据时可能需要优化查询

3. **系统要求**
   - 建议在稳定的操作系统环境下运行
   - 确保有足够的磁盘空间存储数据

## 技术支持

如遇到问题或需要技术支持，请：
1. 检查错误日志
2. 确认数据库文件完整性
3. 验证Python环境和依赖包

## 版本信息

- **当前版本**: 1.0.0
- **发布日期**: 2025年1月
- **兼容性**: Python 3.8+

## 许可证

本项目仅供学习和内部使用。